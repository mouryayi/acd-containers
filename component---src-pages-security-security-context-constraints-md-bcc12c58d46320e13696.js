(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{"013z":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("NmYn"),s=a.n(o),i=a("Wbzz"),l=a("Xrax"),c=a("k4MR"),u=a("TSYQ"),b=a.n(u),d=a("QH2O"),p=a.n(d),m=a("qKvR"),x=function(e){var t,a=e.title,n=e.theme,r=e.tabs,o=void 0===r?[]:r;return Object(m.b)("div",{className:b()(p.a.pageHeader,(t={},t[p.a.withTabs]=o.length,t[p.a.darkMode]="dark"===n,t))},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12"},Object(m.b)("h1",{id:"page-title",className:p.a.text},a)))))},O=a("BAC9"),g=function(e){var t=e.relativePagePath,a=e.repository,n=Object(i.useStaticQuery)("1364590287").site.siteMetadata.repository,r=a||n,o=r.baseUrl,s=r.subDirectory,l=o+"/edit/"+r.branch+s+"/src/pages"+t;return o?Object(m.b)("div",{className:"bx--row "+O.row},Object(m.b)("div",{className:"bx--col"},Object(m.b)("a",{className:O.link,href:l},"Edit this page on GitHub"))):null},h=a("FCXl"),f=a("dI71"),j=a("I8xM"),y=function(e){function t(){return e.apply(this,arguments)||this}return Object(f.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,n=e.slug,r=n.split("/").filter(Boolean).slice(-1)[0],o=a.map((function(e){var t,a=s()(e,{lower:!0,strict:!0}),o=a===r,l=new RegExp(r+"/?(#.*)?$"),c=n.replace(l,a);return Object(m.b)("li",{key:e,className:b()((t={},t[j.selectedItem]=o,t),j.listItem)},Object(m.b)(i.Link,{className:j.link,to:""+c},e))}));return Object(m.b)("div",{className:j.tabsContainer},Object(m.b)("div",{className:"bx--grid"},Object(m.b)("div",{className:"bx--row"},Object(m.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(m.b)("nav",{"aria-label":t},Object(m.b)("ul",{className:j.list},o))))))},t}(r.a.Component),w=a("MjG9"),C=a("CzIb"),v=a("Asxa"),T=a("OIbQ"),N=a.n(T),P=function(e){var t=e.date,a=new Date(t);return t?Object(m.b)(v.c,{className:N.a.row},Object(m.b)(v.a,null,Object(m.b)("div",{className:N.a.text},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null};t.a=function(e){var t=e.pageContext,a=e.children,n=e.location,r=e.Title,o=t.frontmatter,u=void 0===o?{}:o,b=t.relativePagePath,d=t.titleType,p=u.tabs,O=u.title,f=u.theme,j=u.description,v=u.keywords,T=u.date,N=Object(C.a)().interiorTheme,k=Object(i.useStaticQuery)("2456312558").site.pathPrefix,A=k?n.pathname.replace(k,""):n.pathname,I=p?A.split("/").filter(Boolean).slice(-1)[0]||s()(p[0],{lower:!0}):"",D=f||N;return Object(m.b)(c.a,{tabs:p,homepage:!1,theme:D,pageTitle:O,pageDescription:j,pageKeywords:v,titleType:d},Object(m.b)(x,{title:r?Object(m.b)(r,null):O,label:"label",tabs:p,theme:D}),p&&Object(m.b)(y,{title:O,slug:A,tabs:p,currentTab:I}),Object(m.b)(w.a,{padded:!0},a,Object(m.b)(g,{relativePagePath:b}),Object(m.b)(P,{date:T})),Object(m.b)(h.a,{pageContext:t,location:n,slug:A,tabs:p,currentTab:I}),Object(m.b)(l.a,null))}},BAC9:function(e,t,a){e.exports={bxTextTruncateEnd:"EditLink-module--bx--text-truncate--end--2pqje",bxTextTruncateFront:"EditLink-module--bx--text-truncate--front--3_lIE",link:"EditLink-module--link--1qzW3",row:"EditLink-module--row--1B9Gk"}},I8xM:function(e,t,a){e.exports={bxTextTruncateEnd:"PageTabs-module--bx--text-truncate--end--267NA",bxTextTruncateFront:"PageTabs-module--bx--text-truncate--front--3xEQF",tabsContainer:"PageTabs-module--tabs-container--8N4k0",list:"PageTabs-module--list--3eFQc",listItem:"PageTabs-module--list-item--nUmtD",link:"PageTabs-module--link--1mDJ1",selectedItem:"PageTabs-module--selected-item--YPVr3"}},OIbQ:function(e,t,a){e.exports={bxTextTruncateEnd:"last-modified-date-module--bx--text-truncate--end--123zi",bxTextTruncateFront:"last-modified-date-module--bx--text-truncate--front--3xeKz",text:"last-modified-date-module--text--24m-4",row:"last-modified-date-module--row--2BquN"}},QH2O:function(e,t,a){e.exports={bxTextTruncateEnd:"PageHeader-module--bx--text-truncate--end--mZWeX",bxTextTruncateFront:"PageHeader-module--bx--text-truncate--front--3zvrI",pageHeader:"PageHeader-module--page-header--3hIan",darkMode:"PageHeader-module--dark-mode--hBrwL",withTabs:"PageHeader-module--with-tabs--3nKxA",text:"PageHeader-module--text--o9LFq"}},srbi:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return i})),a.d(t,"default",(function(){return u}));var n=a("wx14"),r=a("zLVn"),o=(a("q1tI"),a("7ljp")),s=a("013z"),i=(a("qKvR"),{}),l={_frontmatter:i},c=s.a;function u(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)(c,Object(n.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",null,"SecurityContextConstraints Requirements"),Object(o.b)("p",null,"Security Context Constraints (or SCCs) set limits on what containers in a pod can do on the cluster.  See ",Object(o.b)("a",{parentName:"p",href:"https://docs.openshift.com/container-platform/4.7/authentication/managing-security-context-constraints.html"},"Managing security context constraints")," for more details."),Object(o.b)("p",null,"By default, the IBM Watson Annotator for Clinical Data ACD operator uses the ",Object(o.b)("inlineCode",{parentName:"p"},"restricted")," SecurityContextConstraints resource for its pod security.\nIf desired, a custom SecurityContextConstraints resource can be created and applied instead. Here is an example:"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: security.openshift.io/v1\nkind: SecurityContextConstraints\nmetadata:\n  name: ibm-wh-server-operator-scc\n  annotations:\n    kubernetes.io/description: ibm-wh-server-operator-scc denies access to all\n      host features and requires pods to be run with a UID, and SELinux context\n      that are allocated to the namespace, enforces readOnlyRootFilesystem, and\n      drops all capabilities.\nallowHostDirVolumePlugin: false\nallowHostIPC: false\nallowHostNetwork: false\nallowHostPID: false\nallowHostPorts: false\nallowPrivilegeEscalation: false\nallowPrivilegedContainer: false\nallowedCapabilities: []\ndefaultAddCapabilities: []\ngroups: []\nfsGroup:\n  type: MustRunAs\npriority: null\nreadOnlyRootFilesystem: true\nrequiredDropCapabilities:\n  - ALL\nrunAsUser:\n  type: MustRunAsRange\nseLinuxContext:\n  type: MustRunAs\nsupplementalGroups:\n  type: RunAsAny\nusers: []\nvolumes:\n  - configMap\n  - downwardAPI\n  - emptyDir\n  - persistentVolumeClaim\n  - projected\n  - secret\n")),Object(o.b)("p",null,"To cause the ACD operator to use the custom SecurityContextConstraints resource:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Find the ",Object(o.b)("inlineCode",{parentName:"p"},"acd-sa")," ServiceAccount resource in the same namespace as the Operator.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Add the following to the rules in the ClusterRole resource that the ServiceAccount resource is bound to, and apply."))),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-yaml"},"- apiGroups:\n    - security.openshift.io\n  resourceNames:\n    - ibm-wh-server-operator-scc\n  resources:\n    - securitycontextconstraints\n  verbs:\n    - use\n")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"The ACD operator also creates custom ClusterRole, ClusterRoleBinding, Role, RoleBinding, SecurityContextConstraints, and ServiceAccount resources to ensure separation of duties.")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-security-security-context-constraints-md-bcc12c58d46320e13696.js.map